# C# и .NET - Вопросы для Middle Developer

## Сборка мусора и управление памятью

### 1. Как происходит сборка мусора в .NET?


### 2. Как вызвать сборщик мусора из кода, в каких случаях это целесообразно?


### 3. В какой момент срабатывает статический конструктор класса?


## Делегаты и события

### 4. Можно ли добавить дополнительную обработку при подписывании делегата на событие?


### 5. Потокобезопасность событий

Дан код:
```csharp
public class Worker
{
    public event EventHandler OnWork;
    public void DoWork() { ….. OnWork(this, null) }
}
```

**Вопросы:**
- В каком случае при вызове OnWork возникнет исключительная ситуация? Смодифицируйте код чтобы исключительная ситуация не возникла.
- Как необходимо модифицировать вызов OnWork в многопоточном окружении, при условии что несколько потоков подписываются на событие OnWork и отписываются от него?


## Структуры (struct)

### 6. Могут ли структуры (struct) имплементировать интерфейсы?


### 7. Могут ли структуры (struct) иметь статический конструктор?


### 8. Могут ли структуры (struct) содержать события (event)?


### 9. Могут ли структуры содержать только конструкторы с параметрами?


## LINQ и IQueryable

### 10. Ваше понимание IQueryable. В чем ключевое отличие от IEnumerable?


### 11. В какой момент применяется условие отбора, указанное в методе расширения .Where(x=>….)? Можно ли это изменить?


### 12. Ваше понимание Linq


### 13. Ваше понимание Expression


### 14. В чем отличие Func<string> от Expression<Func<string>>?


## IDisposable и управление ресурсами

### 15. Ваше понимание IDisposable. Для чего применяется?


### 16. Ваше понимание секции using (var value = ...)


### 17. В какую конструкцию разворачивается using? Напишите аналог using-секции


### 18. Отличие Dispose от Finalize


### 19. Можно ли объявить деструктор класса? Если да, то наследуются ли деструкторы?


### 20. Можно ли вызвать деструктор класса принудительно?


### 21. Можно ли объявить деструктор структур?


## Многопоточность

### 22. Объясните разницу между нитью (Thread) и процессом (Process)


### 23. В чем разница между Thread и Task?


### 24. Чем отличаются Task<T> и ValueTask<T>?


### 25. Что такое потокобезопасность?


### 26. Как проводится синхронизация потоков?


### 27. Что такое пул потоков, как с ним работать?


### 28. Является ли статический конструктор потокобезопасным?


### 29. Является ли статическая инициализация полей потокобезопасной?


### 30. Ваше понимание double-check-locking


### 31. Ваше понимание выражения lock(value), в какую конструкцию разворачивается lock?


## Асинхронность

### 32. В чем отличие между параллельностью и асинхронностью?


### 33. Какую задачу решает модификатор async?


### 34. Для чего нужен оператор await?


## Атрибуты

### 35. Каким образом можно пометить метод как устаревший?


### 36. Какие элементы могут быть помечены каким-либо атрибутом?


## Reflection (Механизм отражений)

### 37. Ваше понимание механизма отражений (Reflection)


### 38. Как бы вы реализовали механизм плагинов?


### 39. Каким образом можно получить список полей, свойств и методов класса?


### 40. Каким образом можно получить список конструкторов и выбрать конструктор по-умолчанию?


### 41. Можно ли выполнить приватный метод?


## Сборки (Assemblies)

### 42. Опишите применение класса Activator


### 43. Какие методы загрузки сборок в домен вы знаете? В чем их отличие?


### 44. Что такое AssemblyManifest?


### 45. В чем разница между AOT и JIT компиляцией? Какие преимущества и ограничения у каждого из них?


### 46. Как производится публикация приложения на .NET? Какие есть ключи публикации?


### 47. Можно ли в сборке хранить дополнительные ресурсы (файлы)? Если да, каким образом можно получить список этих ресурсов и выгрузить отдельный ресурс?


### 48. Какие атрибуты сборок (assembly) вы знаете?


## ORM

### 49. Ваше понимание ORM. Какими вы пользовались?


### 50. Ваше понимание Lazy Loading


## NHibernate

### 51. Почему все публичные свойства и методы должны иметь модификатор virtual?


### 52. Ваше понимание IUserType


### 53. Ваше понимание Formula


### 54. Каковы различия между Bag и Set?


## IoC/DI

### 55. Ваше понимание IoC/DI


### 56. Какие стратегии DI вы знаете?


### 57. Ваше понимание Lifestyle Management. Перечислите основные (не зависимо от фреймворка)


### 58. Какие IoC контейнеры вам известны?


## Castle.Windsor

### 59. Вы использовали Castle.Windsor?


### 60. Ваше понимание parent-child container (SubContainer в Castle.Windsor)


### 61. Ваше понимание sub resolver (SubDependencyResolver в Castle.Windsor)


### 62. Ваше понимание ComponentRegistration.UsingFactoryMethod


### 63. Ваше понимание ComponentRegistration.Forward


### 64. Ваше понимание ComponentRegistration.Named


### 65. Какими способами можно подменить имплементацию контракта?


### 66. Что используется в качестве имени по-умолчанию?


## Равенство и сравнение объектов

### 67. В чем отличие равенства от идентичности объектов?


### 68. Ваше понимание Object.MemberwiseClone


### 69. Ваше понимание Object.ReferenceEquals


### 70. Ваше понимание понятия "перегрузка операторов"


### 71. Перегрузка оператора равенства

Дан код:
```csharp
public class Entity { public int Id {get;set;} }
```

Замените оператор сравнения таким образом, что экземпляры одного типа считаются равными при совпадении идентификатора (Id)


### 72. Опишите интерфейс IEqualityComparer и его применение


## Паттерны проектирования

### 73. Реализацией какого паттерна являются события (event)?


### 74. Ваше понимание паттерна Singleton


### 75. Ваше понимание паттерна Abstract Factory


### 76. Ваше понимание паттерна Factory Method


### 77. Ваше понимание паттерна Builder


## Архитектура

### 78. Опишите трехуровневую модель приложения


### 79. Ваше понимание принципа SOLID


### 80. Ваше понимание принципа ACID


## Миграции и инфраструктура

### 81. Ваше понимание миграции схемы БД. Какие инструменты вы использовали?


### 82. Какие задачи решают библиотеки Bars.Gkh.Transport и Bars.Gkh.Queue?


---

# PostgreSQL

## Основы баз данных

### 83. Виды ключей


### 84. Нормализация и денормализация, когда нужны


### 85. Временные таблицы и представления


### 86. Быстрая вставка данных в таблицу, быстрая выгрузка данных из таблицы


## Запросы

### 87. Подзапросы


### 88. Оконные функции


### 89. EXCEPT, INTERSECT


## Типы данных

### 90. Сложные и составные типы данных, массивы


### 91. Обработка JSON, JSONB типов


## Логика и производительность

### 92. Логика в БД, хранимые процедуры


### 93. Триггеры


### 94. Оператор EXPLAIN


---

## Прогресс изучения

### .NET Core
- [ ] Сборка мусора (1-3)
- [ ] Делегаты и события (4-5)
- [ ] Структуры (6-9)
- [ ] LINQ и IQueryable (10-14)
- [ ] IDisposable (15-21)
- [ ] Многопоточность (22-31)
- [ ] Асинхронность (32-34)
- [ ] Атрибуты (35-36)
- [ ] Reflection (37-41)
- [ ] Сборки (42-48)
- [ ] ORM (49-54)
- [ ] IoC/DI (55-66)
- [ ] Равенство объектов (67-72)
- [ ] Паттерны (73-77)
- [ ] Архитектура (78-82)

### PostgreSQL
- [ ] Основы БД (83-86)
- [ ] Запросы (87-89)
- [ ] Типы данных (90-91)
- [ ] Логика и производительность (92-94)

---

## Заметки и дополнительные материалы